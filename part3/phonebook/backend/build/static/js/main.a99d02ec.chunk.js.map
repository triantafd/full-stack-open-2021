{"version":3,"sources":["components/Title.js","components/Filter.js","utils.js","components/Notification.js","components/PersonForm.js","services/phonebook.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["Title","props","name","Filter","func","searchName","setSearchName","value","onChange","event","target","Notification","message","error","className","PersonForm","handleSubmit","newName","setNewName","newNumber","setNewNumber","onSubmit","type","baseUrl","getAll","a","request","axios","get","then","response","data","create","person","post","delete","id","update","newPerson","put","Person","number","deletePerson","onClick","Persons","matchPersons","console","log","map","p","App","useState","persons","setPersons","filterStr","setFilterStr","filter","toUpperCase","includes","setMessage","errorMessage","setErrorMessage","timer","useEffect","Service","preventDefault","newObject","existedPerson","window","confirm","updatedPerson","setTimeout","catch","concat","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a99d02ec.chunk.js","sourcesContent":["const Title = (props) => {\r\n  return (\r\n    <h2>{props.name}</h2>\r\n  )\r\n}\r\n\r\nexport default Title","import { handleChange } from '../utils'\r\n\r\n\r\nconst Filter = (props) => {\r\n  const { searchName, setSearchName } = props\r\n  return (\r\n    <div>\r\n      Filter shown with: <input value={searchName} onChange={handleChange(setSearchName)} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","const handleChange = (func) => (event) => {\r\n  func(event.target.value)\r\n}\r\n\r\n\r\nexport { handleChange }","import React from 'react'\r\nimport '../index.css';\r\n\r\nconst Notification = ({ message, error = false }) => {\r\n  if (message) {\r\n    if (error) {\r\n      return (\r\n        <div className=\"error\">\r\n          {message}\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className=\"message\">\r\n          {message}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nexport default Notification","import { handleChange } from '../utils'\r\n\r\nconst PersonForm = (props) => {\r\n  const { handleSubmit, newName, setNewName, newNumber, setNewNumber } = props\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name : <input\r\n          value={newName}\r\n          onChange={(event) => { setNewName(event.target.value) }}\r\n        />\r\n      </div>\r\n      <div>\r\n        number : <input\r\n          value={newNumber}\r\n          onChange={(event) => { setNewNumber(event.target.value) }}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">save</button>\r\n      </div>\r\n    </form >\r\n  )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = async () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst create = async (person) => {\r\n  const request = axios.post(baseUrl, person);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst deletePerson = async (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst update = async (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson);\r\n  return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getAll,\r\n  create,\r\n  delete: deletePerson,\r\n  update\r\n}","import React from 'react'\r\nimport Service from '../services/phonebook'\r\n\r\nconst Person = ({ id, name, number, deletePerson }) => {\r\n  return (\r\n    <tr>\r\n      <td>{name}</td>\r\n      <td>{number}</td>\r\n      <td><button onClick={() => deletePerson(id)}>delete</button></td>\r\n    </tr>\r\n  )\r\n}\r\n\r\n\r\nexport default Person;","import Person from './Person'\r\n\r\nconst Persons = (props) => {\r\n  const { matchPersons, deletePerson } = props\r\n  console.log(matchPersons)\r\n\r\n  return (\r\n    <div>\r\n      <table>\r\n        <tbody>\r\n          {matchPersons.map((p) => {\r\n            return (\r\n              <Person\r\n                key={p.id}\r\n                id={p.id}\r\n                name={p.name}\r\n                number={p.number}\r\n                deletePerson={deletePerson}\r\n              />\r\n            )\r\n          }\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React, { useState, useEffect } from 'react'\n\nimport Title from './components/Title'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport axios from 'axios'\nimport Service from './services/phonebook'\n\nconst App = (props) => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterStr, setFilterStr] = useState('')\n  const matchPersons =\n    persons.filter(p => p.name.toUpperCase().includes(filterStr.toUpperCase()))\n\n  const [message, setMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const timer = 3000\n  console.log(filterStr, setFilterStr)\n  useEffect(() => {\n    Service.getAll().then(data => setPersons(data))\n    console.log('Persons have been fetced')\n  }, [])\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n\n    const newObject = {\n      'name': newName,\n      'number': newNumber,\n    }\n    console.log('Save have been pressed in order to add/ modify person', newObject)\n\n\n    const isUniqName = persons.map(p => p.name).includes(newName)\n\n    if (isUniqName) {\n      const existedPerson = persons.filter(p => p.name === newName)[0];\n      /* const { id, name } = existedPerson[0]; */\n      const message = `${newName} is already added to phonebook, replace the old number with a new one?`\n      if (window.confirm(message)) {\n        Service.\n          update(existedPerson.id, newObject).\n          then((updatedPerson) => {\n            console.log('A  PERSON HAVE BEEN modified', updatedPerson)\n            setPersons(persons.map(p => p.id !== existedPerson.id ? p : updatedPerson))\n            /* Service.getAll().then(data => setPersons(data)) */\n            setMessage(`Added ${newName}`)\n            setTimeout(() => setMessage(''), timer)\n          }).catch(error => {\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => setErrorMessage(''), timer)\n          })\n      }\n    } else {\n      Service\n        .create(newObject)\n        .then((newPerson) => {\n          console.log('A NEW PERSON HAVE BEEN ADDED', newPerson)\n          /* Service.getAll().then(data => setPersons(data)) */\n          setMessage(`Added ${newName}`)\n          setTimeout(() => setMessage(null), timer)\n          setPersons(persons.concat(newPerson))\n        }).catch(error => {\n          console.log('SOMETHING HAPPENED', error)\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => setErrorMessage(null), timer)\n        })\n    }\n\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n\n  const deletePerson = (id) => {\n    const deletedPerson = persons.filter(p => p.id === id);\n    const isDelete = window.confirm(`delete ${deletedPerson[0].name}?`);\n\n    if ( isDelete ) {\n      Service\n        .delete(id)\n        .then(() => {\n          setErrorMessage(`deleted ${deletedPerson[0].name}`)\n          setTimeout(() => setMessage(null), timer)\n          setPersons(persons.filter(p => p.id !== id));\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => setErrorMessage(null), timer)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <Title name={'Phonebook'} />\n      {\n        message &&\n        <Notification message={message} />\n      }\n      {\n        errorMessage &&\n        <Notification message={errorMessage} error={true} />\n      }\n      <div>\n        <Filter searchName={filterStr} setSearchName={setFilterStr} />\n      </div>\n      <div>\n        <Title name={'Add a new'} />\n        <PersonForm\n          handleSubmit={handleSubmit}\n          newName={newName} setNewName={setNewName}\n          newNumber={newNumber} setNewNumber={setNewNumber}\n        />\n      </div>\n      <div>\n        <Title name={'Numbers'} />\n        <Persons matchPersons={matchPersons} deletePerson={deletePerson} />\n      </div>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}